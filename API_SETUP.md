# הגדרת API - TradeMaster Pro

## 🔑 הוספת מפתח Finnhub API

עכשיו כשאתה יש לך את מפתח ה-API, בצע את השלבים הבאים:

### שלב 1: צור קובץ .env.local

צור קובץ חדש בשם `.env.local` בתיקיית הפרויקט עם התוכן הבא:

```bash
# TradeMaster Pro Environment Variables

# Finnhub API Key for market data
FINNHUB_API_KEY=d3g4shhr01qqbh55bdv0d3g4shhr01qqbh55bdvg

# Application Configuration
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

### שלב 2: הפעל מחדש את השרת

```bash
# עצור את השרת (Ctrl+C)
# הפעל מחדש
npm run dev
```

### שלב 3: בדוק שהכל עובד

1. **פתח את האפליקציה**: http://localhost:3000
2. **לך לדאשבורד** ותראה את "מחירי המניות שלך"
3. **הוסף עסקה** עם סמל כמו AAPL או TSLA
4. **לחץ על "מחיר נוכחי"** - אתה אמור לראות מחיר אמיתי!

## 🎯 מה אתה אמור לראות:

### בדאשבורד:
- **"מחירי המניות שלך"** - מחירים חיים
- **P&L צף** - חישובים אמיתיים
- **ריענון מחירים** - כפתור עובד

### בהוספת עסקה:
- **כפתור "מחיר נוכחי"** - מושך מחירים אמיתיים
- **חישוב גודל פוזיציה** - אוטומטי
- **P&L חישוב** - מדויק

## 🔍 בדיקה מהירה:

1. **הוסף עסקה חדשה**:
   - סמל: AAPL
   - כיוון: Long
   - לחץ על "מחיר נוכחי"
   - אתה אמור לראות מחיר אמיתי של אפל!

2. **בדוק בדאשבורד**:
   - לך לדאשבורד
   - תראה את העסקה ברשימת "עסקאות פתוחות"
   - תראה P&L צף אמיתי

## 🛡️ ניטור סטופ לוס:

עכשיו גם **ניטור הסטופ לוס האוטומטי** יעבוד:
1. **לך לדאשבורד**
2. **לחץ על "התחל ניטור"** בניטור סטופ לוס
3. **הפעל התראות דפדפן**
4. **המערכת תבדוק כל 30 שניות** אם עסקאות הגיעו לסטופ לוס

## 📊 מה עובד עכשיו:

- ✅ **מחירי שוק חיים** מ-Finnhub API
- ✅ **P&L צף בזמן אמת**
- ✅ **חישוב גודל פוזיציה** מדויק
- ✅ **ניטור סטופ לוס** עם מחירים אמיתיים
- ✅ **התראות אוטומטיות** על סגירות סטופ לוס

## 🔧 אם משהו לא עובד:

### בדוק שהקובץ נוצר נכון:
```bash
# ודא שהקובץ קיים
ls -la .env.local

# בדוק את התוכן
cat .env.local
```

### בדוק שהשרת רץ:
```bash
npm run dev
```

### בדוק בקונסול הדפדפן (F12):
- אין שגיאות JavaScript
- בקשות API עוברות

## 🎉 עכשיו הכל עובד!

האפליקציה שלך עכשיו מחוברת ל-Finnhub API ותראה:
- **מחירי שוק אמיתיים**
- **P&L צף מדויק**
- **ניטור סטופ לוס אמיתי**
- **התראות אוטומטיות**

האפליקציה מוכנה לשימוש מקצועי! 📈
