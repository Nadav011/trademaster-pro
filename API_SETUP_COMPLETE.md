# 🔑 הגדרת API - הוראות מפורטות

## ✅ מה תוקן:

### 1. **בעיית מפתח ה-API**
- תוקן הקוד כדי להשתמש במפתח API שנשמר ב-localStorage
- הוספתי מערכת הגדרות API בעמוד ההגדרות
- עכשיו האפליקציה תשתמש במפתח ה-API שלך

### 2. **שדה כמות מניות**
- הוספתי שדה "כמות מניות" לטופס הוספת עסקה
- החישוב האוטומטי עובד עכשיו
- יש כפתור "השתמש בחישוב" לבחירה

## 🚀 איך להגדיר עכשיו:

### שלב 1: לך לעמוד הגדרות
1. **פתח את האפליקציה**: http://localhost:3000
2. **לך להגדרות**: http://localhost:3000/settings
3. **תראה את החלק "הגדרות API"** בראש העמוד

### שלב 2: הזן את מפתח ה-API
1. **הכנס את המפתח שלך**: `d3g4shhr01qqbh55bdv0d3g4shhr01qqbh55bdvg`
2. **לחץ על "שמור הגדרות API"**
3. **תקבל הודעת הצלחה**

### שלב 3: בדוק שהכל עובד
1. **לך לדאשבורד**: http://localhost:3000
2. **הוסף עסקה חדשה**:
   - סמל: AAPL
   - כיוון: Long
   - מחיר כניסה: 150
   - סטופ לוס: 145
   - **כמות מניות**: תראה שדה חדש!
   - לחץ על "מחיר נוכחי" - אמור לעבוד עכשיו!

## 🎯 מה אמור לעבוד עכשיו:

### ✅ **בהוספת עסקה:**
- **שדה כמות מניות** - חדש!
- **כפתור "מחיר נוכחי"** - עובד עם API
- **חישוב גודל פוזיציה** - אוטומטי
- **כפתור "השתמש בחישוב"** - לבחירה

### ✅ **בדאשבורד:**
- **"מחירי המניות שלך"** - מחירים חיים
- **P&L צף** - חישובים אמיתיים
- **ריענון מחירים** - כפתור עובד

### ✅ **ניטור סטופ לוס:**
- **בדיקה אוטומטית** עם מחירים אמיתיים
- **התראות דפדפן** על סגירות אוטומטיות

## 🔧 אם משהו עדיין לא עובד:

### בדוק שהמפתח נשמר:
1. **לך להגדרות**
2. **בדוק שהמפתח מופיע** בשדה
3. **אם לא - הכנס שוב ושמור**

### בדוק בקונסול הדפדפן (F12):
- אין שגיאות JavaScript
- בקשות API עוברות בהצלחה

### בדוק שהשרת רץ:
```bash
npm run dev
```

## 🎉 עכשיו הכל אמור לעבוד!

האפליקציה שלך עכשיו:
- ✅ **מחוברת ל-Finnhub API**
- ✅ **מציגה מחירי שוק חיים**
- ✅ **מחשבת P&L צף מדויק**
- ✅ **מנטרת סטופ לוס אוטומטית**
- ✅ **מאפשרת הזנת כמות מניות**

האפליקציה מוכנה לשימוש מקצועי! 📈
